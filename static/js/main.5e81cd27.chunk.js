(this["webpackJsonpweek-calendar"]=this["webpackJsonpweek-calendar"]||[]).push([[0],{126:function(e,a,t){},127:function(e,a,t){},128:function(e,a,t){},130:function(e,a,t){},131:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(7),o=t.n(c),l=t(24),i=t(18),u=t(66),s=t.n(u),d=t(67),m=t(13),f=t(68),E=t(11),y=t.n(E),h=function(e,a){return a.filter((function(a){return a.date===e}))},p=function(e,a){return y()(e).add(a,"days").format("YYYY")},O=function(e,a){return y()(e).add(a,"days").format("YYYY-MM-DD")},b=O,v=function(){return y()().format("YYYY-MM-DD")},D={dates:[],startDate:v(),endDate:b(v())},S=function(e,a){return Object(m.a)(Object(m.a)({},e),{},{loading:!0})},Y=function(e,a){return Object(m.a)(Object(m.a)({},e),{},{loading:!1,dates:a.payload})},_=function(e,a){return Object(m.a)(Object(m.a)({},e),{},{loading:!1})},T=function(e,a){return Object(m.a)(Object(m.a)({},e),{},{startDate:a.payload})},j=function(e,a){return Object(m.a)(Object(m.a)({},e),{},{endDate:a.payload})},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_HOLIDAYS_START":return S(e);case"FETCH_HOLIDAYS_SUCCESS":return Y(e,a);case"FETCH_HOLIDAYS_FAILED":return _(e);case"SET_HOLIDAYS_START_DATE":return T(e,a);case"SET_HOLIDAYS_END_DATE":return j(e,a);default:return e}},g={dates:[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_DAYS":return Object(m.a)(Object(m.a)({},e),{},{dates:a.payload});default:return e}},C=Object(i.c)({holidays:k,days:w}),A=[s.a,d.a],N="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:i.d,H=Object(i.e)(C,N(i.a.apply(void 0,A))),L=(t(94),t(77)),M=(t(97),t(20)),I=(t(98),t(39)),F=t.n(I),W=t(36),x=t(70),R=t.n(x).a.create({baseURL:"https://wozmx9dh26.execute-api.eu-west-1.amazonaws.com/api/"}),B=function(e,a,t,n){return function(r){r({type:"FETCH_HOLIDAYS_START"});var c={apiKey:"80a4bd496d156658585e1a0450ddc438",startDate:e,endDate:a};R.post("holidays",c).then((function(c){var o=[];c.data.error||(o=function(e){var a=[];return e.reduce((function(e,t){return a.includes(t.name)||(a.push(t.name),e.push(t)),e}),[])}(function(e){var a=[];return Object.keys(e).forEach((function(t){var n,r=Object(f.a)(e[t]);try{for(r.s();!(n=r.n()).done;){var c=n.value;a.push(Object.assign(c,{date:t}))}}catch(o){r.e(o)}finally{r.f()}})),a}(c.data.holidays))),o=t?[].concat(Object(W.a)(o),Object(W.a)(n)):[].concat(Object(W.a)(n),Object(W.a)(o)),r(function(e){return{type:"FETCH_HOLIDAYS_SUCCESS",payload:e}}(o)),r(t?function(e){return{type:"SET_HOLIDAYS_START_DATE",payload:e}}(e):function(e){return{type:"SET_HOLIDAYS_END_DATE",payload:e}}(a))})).catch((function(e){r({type:"FETCH_HOLIDAYS_FAILED"})}))}},U=t(166),z=t(159),X=t(75),P=t.n(X),G=t(76),J=t.n(G),V=t(155),K=t(164),$=t(167);function q(e){var a,t=r.a.useState(null),n=Object(M.a)(t,2),c=n[0],o=n[1],l=(a=e.firstDay,y()(a).format("dddd")),i=function(a){u();var t=a-function(e){return y()(e).format("E")}(e.firstDay);if(console.log(t),Math.abs(t)<7){var n=b(e.firstDay,t);console.log(n),e.onFirstDayChanged(n)}},u=function(){o(null)};return r.a.createElement("div",null,r.a.createElement(V.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}},"First Day: ",l),r.a.createElement(K.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:u},r.a.createElement($.a,{onClick:function(){return i(1)}},"Monday"),r.a.createElement($.a,{onClick:function(){return i(2)}},"Tuesday"),r.a.createElement($.a,{onClick:function(){return i(3)}},"Wednesday"),r.a.createElement($.a,{onClick:function(){return i(4)}},"Thursday"),r.a.createElement($.a,{onClick:function(){return i(5)}},"Friday"),r.a.createElement($.a,{onClick:function(){return i(6)}},"Saturday"),r.a.createElement($.a,{onClick:function(){return i(0)}},"Sunday")))}t(126),t(127),t(128);var Q=t(168),Z=t(46),ee=t.n(Z),ae=function(e){var a=e.name,t=(e.date,e.type);return r.a.createElement("div",{className:"holiday"},r.a.createElement("div",{className:"name"},a),r.a.createElement(Q.a,{variant:"outlined",color:"secondary",size:"small",icon:r.a.createElement(ee.a,null),label:t}))},te=function(e){e.date;var a=e.day,t=e.month,n=e.dayOfTheWeek,c=e.isHoliday,o=e.holidays;return r.a.createElement("div",{className:"day"},r.a.createElement("div",{className:"date-wrapper"},r.a.createElement("div",{className:"date"},r.a.createElement("span",{className:"number"},a),r.a.createElement("span",{className:"month"},t)),r.a.createElement("div",{className:c?"day-week holiday":"day-week"},n)),r.a.createElement("div",{className:"holidays"},c?o.map((function(e){return r.a.createElement(ae,{key:e.name,name:e.name,type:e.type})})):null))},ne=Object(l.b)((function(e){return{holidays:e.holidays,days:e.days}}))((function(e){var a=e.days,t=e.holidays;return t.dates?r.a.createElement("div",{className:"week"},a.dates.map((function(e){var a=function(e,a){return a.map((function(e){return e.date})).includes(e.date)}(e,t.dates);return r.a.createElement(te,{key:e.date,date:e.date,day:e.dayOfTheMonth,month:e.month,dayOfTheWeek:e.dayOfTheWeek,isHoliday:a,holidays:a?h(e.date,t.dates):null})}))):r.a.createElement("h1",null,"Something went wrong!")})),re=(t(130),function(e){var a=e.startYear,t=e.startDate,c=e.setStartDate,o=e.endYear,l=e.calendarClass;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"calendar-header"},r.a.createElement("div",null,a),r.a.createElement(q,{firstDay:t,onFirstDayChanged:function(e){return c(e)}}),a!==o?r.a.createElement("div",null,o):null),r.a.createElement("div",{className:l},r.a.createElement(U.a,{title:"Previous Week"},r.a.createElement(z.a,{classes:{root:"next-icon"},onClick:function(){return c(O(t,-7))}},r.a.createElement(P.a,null))),r.a.createElement(ne,null),r.a.createElement(U.a,{title:"Next Week"},r.a.createElement(z.a,{classes:{root:"next-icon"},onClick:function(){return c(O(t,7))}},r.a.createElement(J.a,null)))))}),ce=t(160),oe=t(161),le=t(162),ie=t(163),ue=Object(ce.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),se=function(){var e=ue();return r.a.createElement(oe.a,{position:"static"},r.a.createElement(le.a,null,r.a.createElement(z.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(ee.a,null)),r.a.createElement(ie.a,{variant:"h6",className:e.title},"My Calendar")))},de=Object(l.b)((function(e){return{holidays:e.holidays,days:e.days}}),(function(e){return{getHolidays:function(a,t,n,r){e(B(a,t,a<n,Object.freeze(r)))},setDays:function(a){return e(function(e){return{type:"SET_DAYS",payload:e}}(a))}}}))((function(e){var a=Object(n.useState)(v()),t=Object(M.a)(a,2),c=t[0],o=t[1],l=Object(n.useState)(7),i=Object(M.a)(l,1)[0],u=Object(n.useState)(y()().format("YYYY")),s=Object(M.a)(u,2),d=s[0],m=s[1],f=Object(n.useState)(p(c,i)),E=Object(M.a)(f,2),h=E[0],D=E[1],S=e.holidays.startDate,Y=e.holidays.endDate,_=e.getHolidays,T=e.setDays;return Object(n.useEffect)((function(){T(function(e,a){for(var t=[],n=y()(e),r=y()(n).add(a-1,"days"),c=n;c<=r;){var o={date:y()(c).format("YYYY-MM-DD"),dayOfTheMonth:y()(c).date(),dayOfTheWeek:y()(c).format("ddd"),month:y()(c).format("MMM")};t.push(o),c=y()(c).add(1,"days")}return t}(c,i)),m(function(e){return y()(e).format("YYYY")}(c)),D(p(c,i)),c<S?_(O(S,-28),S,S,e.holidays.dates):b(c,i)>Y&&_(O(Y,1),O(Y,28),S,e.holidays.dates)}),[T,m,D,_,c,i]),r.a.createElement(n.Fragment,null,r.a.createElement(se,null),r.a.createElement("div",{className:"homepage"},r.a.createElement(I.Media,null,(function(e){var a=e.breakpoints,t=a[e.currentBreakpoint]>a.mobileLandscape?"calendar":"mobile-calendar";return r.a.createElement(re,{startYear:d,startDate:c,setStartDate:o,endYear:h,calendarClass:t})}))))}));var me=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(L.a,null,r.a.createElement(de,{exact:!0,path:"/week-calendar"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:H},r.a.createElement(F.a,{breakpoints:{mobile:320,mobileLandscape:480,tablet:768,tabletLandscape:1024,desktop:1200,desktopLarge:1500,desktopWide:1920}},r.a.createElement(me,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,a,t){e.exports=t(131)},94:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){}},[[84,1,2]]]);
//# sourceMappingURL=main.5e81cd27.chunk.js.map