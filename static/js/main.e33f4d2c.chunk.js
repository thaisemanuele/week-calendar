(this["webpackJsonpweek-calendar"]=this["webpackJsonpweek-calendar"]||[]).push([[0],{102:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=a(17),i=a(22),u=a(71),s=a.n(u),d=a(72),f=a(12),m=a(73),y=a(13),E=a.n(y),h=function(e,t){return t.filter((function(t){return t.date===e}))},O=function(e,t){return E()(e).add(t,"days").format("YYYY")},p=function(e,t){return E()(e).add(t,"days").format("YYYY-MM-DD")},b=p,v=function(){return E()().format("YYYY-MM-DD")},D={dates:[],startDate:v(),endDate:b(v())},S=function(e,t){return Object(f.a)(Object(f.a)({},e),{},{loading:!0})},_=function(e,t){return Object(f.a)(Object(f.a)({},e),{},{loading:!1,dates:t.payload})},T=function(e,t){return Object(f.a)(Object(f.a)({},e),{},{loading:!1})},j=function(e,t){return Object(f.a)(Object(f.a)({},e),{},{startDate:t.payload})},Y=function(e,t){return Object(f.a)(Object(f.a)({},e),{},{endDate:t.payload})},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_HOLIDAYS_START":return S(e);case"FETCH_HOLIDAYS_SUCCESS":return _(e,t);case"FETCH_HOLIDAYS_FAILED":return T(e);case"SET_HOLIDAYS_START_DATE":return j(e,t);case"SET_HOLIDAYS_END_DATE":return Y(e,t);default:return e}},w={dates:[],firstDayOfTheWeek:v()},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DAYS":return Object(f.a)(Object(f.a)({},e),{},{dates:t.payload});case"SET_FIRST_DAY_OF_THE_WEEK":return Object(f.a)(Object(f.a)({},e),{},{firstDayOfTheWeek:t.payload});default:return e}},C=Object(i.c)({holidays:k,days:g}),A=[s.a,d.a],N="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:i.d,H=Object(i.e)(C,N(i.a.apply(void 0,A))),F=(a(102),a(82)),I=(a(106),a(26)),M=(a(107),a(39)),W=a(75),L=a.n(W).a.create({baseURL:"https://wozmx9dh26.execute-api.eu-west-1.amazonaws.com/api/"}),x=function(e,t,a,n){return function(r){r({type:"FETCH_HOLIDAYS_START"});var c={apiKey:"80a4bd496d156658585e1a0450ddc438",startDate:e,endDate:t};L.post("holidays",c).then((function(c){var o=[];c.data.error||(o=function(e){var t=[];return e.reduce((function(e,a){return t.includes(a.name)||(t.push(a.name),e.push(a)),e}),[])}(function(e){var t=[];return Object.keys(e).forEach((function(a){var n,r=Object(m.a)(e[a]);try{for(r.s();!(n=r.n()).done;){var c=n.value;t.push(Object.assign(c,{date:a}))}}catch(o){r.e(o)}finally{r.f()}})),t}(c.data.holidays))),o=a?[].concat(Object(M.a)(o),Object(M.a)(n)):[].concat(Object(M.a)(n),Object(M.a)(o)),r(function(e){return{type:"FETCH_HOLIDAYS_SUCCESS",payload:e}}(o)),r(a?function(e){return{type:"SET_HOLIDAYS_START_DATE",payload:e}}(e):function(e){return{type:"SET_HOLIDAYS_END_DATE",payload:e}}(t))})).catch((function(e){r({type:"FETCH_HOLIDAYS_FAILED"})}))}},R=function(e){return{type:"SET_FIRST_DAY_OF_THE_WEEK",payload:e}},B=a(170),U=a(163),z=a(80),X=a.n(z),K=a(81),P=a.n(K),G=(a(125),a(126),a(156)),J=a(158),V=a(160),$=a(52),q=a(172),Q=a(49),Z=a.n(Q),ee=Object(G.a)((function(e){return{root:{display:"flex",overflow:"scroll",width:"100%",backgroundColor:"#f9f8f7"},details:{display:"grid",gridTemplateColumns:"4fr 1fr 0.5fr"},content:{flex:"1 0 auto",padding:10,overflowWrap:"anywhere"},cover:{width:151},controls:{display:"flex",alignItems:"center",margin:"0 auto"}}}));function te(e){var t=e.name,a=e.type,n=ee();return r.a.createElement(J.a,{className:n.root,variant:"outlined"},r.a.createElement("div",{className:n.details},r.a.createElement(V.a,{className:n.content},r.a.createElement($.a,{variant:"subtitle1",color:"textSecondary"},t)),r.a.createElement("div",{className:n.controls},r.a.createElement(q.a,{variant:"outlined",color:"secondary",size:"small",icon:r.a.createElement(Z.a,null),label:a}))))}var ae=function(e){var t=e.day,a=e.month,n=e.dayOfTheWeek,c=e.isHoliday,o=e.holidays;return r.a.createElement("div",{className:"day"},r.a.createElement("span",{className:"number"},t),r.a.createElement("span",{className:"month"},a),r.a.createElement("div",{className:c?"day-week holiday":"day-week"},n),r.a.createElement("div",{className:"holidays"},c?o.map((function(e){return r.a.createElement(te,{key:e.name,name:e.name,type:e.type})})):null))},ne=Object(l.b)((function(e){return{holidays:e.holidays,days:e.days}}))((function(e){var t=e.days,a=e.holidays;return a.dates?r.a.createElement("div",{className:"week"},t.dates.map((function(e){var t=function(e,t){return t.map((function(e){return e.date})).includes(e.date)}(e,a.dates);return r.a.createElement(ae,{key:e.date,date:e.date,day:e.dayOfTheMonth,month:e.month,dayOfTheWeek:e.dayOfTheWeek,isHoliday:t,holidays:t?h(e.date,a.dates):null})}))):r.a.createElement("h1",null,"Something went wrong!")})),re=(a(128),Object(l.b)((function(e){return{startDate:e.days.firstDayOfTheWeek}}),(function(e){return{setStartDate:function(t){return e(R(t))}}}))((function(e){var t=e.startYear,a=e.startDate,c=e.setStartDate,o=e.endYear,l=e.calendarClass;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"calendar-header"},r.a.createElement("div",null,t),t!==o?r.a.createElement("div",null,o):null),r.a.createElement("div",{className:l},r.a.createElement(B.a,{title:"Previous Week"},r.a.createElement(U.a,{classes:{root:"next-icon"},onClick:function(){return c(p(a,-7))}},r.a.createElement(X.a,null))),r.a.createElement(B.a,{title:"Next Week"},r.a.createElement(U.a,{classes:{root:"next-icon"},onClick:function(){return c(p(a,7))}},r.a.createElement(P.a,null))),r.a.createElement(ne,null)))}))),ce=a(167),oe=a(168),le=a(165),ie=a(132),ue=a(164),se=a(173),de=a(171),fe=a(166),me=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ye=Object(l.b)((function(e){return{firstDay:e.days.firstDayOfTheWeek}}),(function(e){return{setFirstDay:function(t){return e(R(t))}}}))((function(e){var t,a=e.firstDay,n=e.setFirstDay,c=r.a.useState(null),o=Object(I.a)(c,2),l=o[0],i=o[1],u=(t=a,E()(t).format("dddd")),s=function(e){d();var t=e-function(e){return E()(e).format("E")}(a);if(Math.abs(t)<7){var r=b(a,t);n(r)}},d=function(){i(null)};return r.a.createElement("div",null,r.a.createElement(ie.a,{button:!0,divider:!0,"aria-haspopup":"true","aria-controls":"days-menu","aria-label":"first-day",onClick:function(e){i(e.currentTarget)},role:"listitem"},r.a.createElement(ue.a,{primary:"First Day",secondary:u})),r.a.createElement(de.a,{id:"days-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:d},me.map((function(e,t){return r.a.createElement(fe.a,{key:e,onClick:function(){return s(t)}},e)}))))})),Ee=Object(G.a)((function(e){return{root:{width:"100%",color:"black",position:"absolute",top:54,left:0},paper:{width:"70%",maxHeight:435}}})),he=function(e){var t=e.isOpen,a=e.handleClose,n=Ee();return r.a.createElement(se.a,{open:t,onClose:a,classes:n},r.a.createElement(le.a,{component:"div",role:"list"},r.a.createElement(ie.a,{button:!0,divider:!0,disabled:!0,role:"listitem"},r.a.createElement(ue.a,{primary:"Configure your Calendar"})),r.a.createElement(ye,null)))},Oe=Object(G.a)((function(e){return{menuButton:{marginRight:e.spacing(2),backgroundColor:"#4e4488"}}})),pe=function(){var e=Object(n.useState)(!1),t=Object(I.a)(e,2),a=t[0],c=t[1],o=Oe(),l=function(){c(!a)};return r.a.createElement("div",null,r.a.createElement(U.a,{edge:"start",className:o.menuButton,color:"inherit","aria-label":"menu",onClick:l},r.a.createElement(Z.a,null)),r.a.createElement(he,{isOpen:a,handleClose:l}))},be=Object(G.a)((function(){return{root:{flexGrow:1,backgroundColor:"darkslateblue"},title:{flexGrow:0}}})),ve=function(){var e=be();return r.a.createElement(ce.a,{position:"static"},r.a.createElement(oe.a,{className:e.root},r.a.createElement(pe,null),r.a.createElement($.a,{variant:"h6",className:e.title},"My Calendar")))},De=Object(l.b)((function(e){return{holidays:e.holidays,days:e.days,startDate:e.days.firstDayOfTheWeek}}),(function(e){return{getHolidays:function(t,a,n,r){e(x(t,a,t<n,Object.freeze(r)))},setDays:function(t){return e(function(e){return{type:"SET_DAYS",payload:e}}(t))}}}))((function(e){var t=e.setDays,a=e.holidays,c=e.getHolidays,o=e.startDate,l=Object(n.useState)(7),i=Object(I.a)(l,1)[0],u=Object(n.useState)(E()().format("YYYY")),s=Object(I.a)(u,2),d=s[0],f=s[1],m=Object(n.useState)(O(o,i)),y=Object(I.a)(m,2),h=y[0],v=y[1],D=a.startDate,S=a.endDate;return Object(n.useEffect)((function(){t(function(e,t){for(var a=[],n=E()(e),r=E()(n).add(t-1,"days"),c=n;c<=r;){var o={date:E()(c).format("YYYY-MM-DD"),dayOfTheMonth:E()(c).date(),dayOfTheWeek:E()(c).format("ddd"),month:E()(c).format("MMM")};a.push(o),c=E()(c).add(1,"days")}return a}(o,i)),f(function(e){return E()(e).format("YYYY")}(o)),v(O(o,i)),o<D?c(p(D,-28),D,D,a.dates):b(o,i)>S&&c(p(S,1),p(S,28),D,a.dates)}),[t,f,v,c,o,i]),r.a.createElement(n.Fragment,null,r.a.createElement(ve,null),r.a.createElement("div",{className:"homepage"},r.a.createElement(re,{startYear:d,endYear:h,calendarClass:"calendar"})))}));var Se=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(F.a,null,r.a.createElement(De,{path:"/week-calendar"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:H},r.a.createElement(Se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,t,a){e.exports=a(129)}},[[92,1,2]]]);
//# sourceMappingURL=main.e33f4d2c.chunk.js.map